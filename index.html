<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–û—Ü–µ–Ω–∫–∞ —Å–∫–∏–Ω–∞</title>
  <script src="https://unpkg.com/skinview3d/bundles/skinview3d.bundle.js"></script>
  <style>
    body {
      background-color: #0e0e12;
      color: #fff;
      font-family: 'Inter', sans-serif;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      box-sizing: border-box;
    }
    .container {
      background: #15151c;
      border-radius: 16px;
      padding: 20px;
      max-width: 900px;
      width: 100%;
      box-shadow: 0 0 30px rgba(0,0,0,0.4);
    }
    header { text-align:center; margin-bottom:20px; }
    header img { 
      height:70px; 
      width:auto; 
      display:block; 
      margin:0 auto 8px; 
    }
    header h1 { font-size:1.7em; margin:0; }
    .upload-section { text-align:center; margin-bottom:20px; }
    input[type=file] {
      background:#1e1e27; border-radius:8px; padding:10px; border:1px solid #2f2f3b; color:#fff;
      cursor:pointer; font-size:0.9em; max-width:100%;
    }
    .skin-preview { width:100%; max-width:300px; height:400px; margin:15px auto; display:block;
      border:2px solid #2f2f3b; border-radius:8px; background: repeating-conic-gradient(#2a2a35 0% 25%, #1e1e27 0% 50%) 50% / 20px 20px;
    }
    .criterion { margin-bottom:15px; }
    .criterion label { display:flex; justify-content:space-between; margin-bottom:5px; font-weight:600; }
    input[type=range] { width:100%; -webkit-appearance:none; background:linear-gradient(90deg,#007bff,#8a2be2); height:6px; border-radius:6px; outline:none; }
    input[type=range]::-webkit-slider-thumb { -webkit-appearance:none; width:20px; height:20px; background:#fff; border-radius:50%; cursor:pointer; border:2px solid #8a2be2; }
    input[type=range]::-moz-range-thumb { width:20px; height:20px; background:#fff; border-radius:50%; cursor:pointer; border:2px solid #8a2be2; }
    .score-display { background:#1e1e27; border-radius:10px; padding:12px; text-align:center; font-size:1.1em; font-weight:bold; margin-top:20px;}
    textarea { width:100%; min-height:80px; background:#1b1b23; color:#fff; border:1px solid #2f2f3b; border-radius:8px; padding:10px; resize:vertical; margin-bottom:12px; font-family:inherit; box-sizing:border-box; }
    .reset-button, .submit-button { background:#8a2be2; color:#fff; border:none; padding:10px 20px; border-radius:8px; font-size:1em; cursor:pointer; margin-right:8px; transition:all .15s; }
    .reset-button:hover, .submit-button:hover { background:#9b4dff; transform:translateY(-1px); }
    .reset-button:disabled, .submit-button:disabled { background:#555; cursor:not-allowed; }
    .reviews { margin-top:30px; }
    .review-item { background:#1b1b23; border-radius:8px; padding:12px; margin-bottom:12px; border-left:3px solid #8a2be2; }
    .review-item h3 { margin-top:0; color:#8a2be2; }
    .criteria { background:#1e1e27; border-radius:8px; padding:8px 10px; margin:10px 0; font-size:0.9em; line-height:1.6; }
    .criteria small { display:block; color:#ccc; }
    .review-item .skin-thumb { max-width:120px; margin-top:10px; border-radius:8px; border:1px solid #2f2f3b; cursor:pointer; display:block; }
    .review-item .skin-thumb:hover { border-color:#8a2be2; }
    .info-text { text-align:center; color:#888; font-size:0.85em; margin-top:8px; }
    .loading { text-align:center; color:#8a2be2; padding:20px; }
    .error { color:#f88; padding:10px; border-radius:6px; background:#2a1a2a; text-align:center; }
    #contest {
  margin-top: 40px;
  padding: 20px;
  text-align: center;
  background-color: #111;
  border-radius: 16px;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
}
#contest {
  width: 100%;
  display: flex;
  justify-content: center;
  margin-top: 40px;
  padding: 30px 15px;
  background: linear-gradient(145deg, #0e0e0e, #181818);
  border-radius: 20px;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.08);
}

.contest-content {
  max-width: 500px;
  text-align: center;
}

#contest h2 {
  color: #fff;
  margin-bottom: 10px;
  font-size: 1.5em;
}

#contest p {
  color: #bbb;
  margin-bottom: 20px;
  line-height: 1.4;
}

.contest-btn {
  display: inline-block;
  padding: 12px 24px;
  background: #ff0066;
  color: #fff;
  border-radius: 12px;
  text-decoration: none;
  font-weight: bold;
  letter-spacing: 0.5px;
  transition: transform 0.2s, background 0.2s;
}

.contest-btn:hover {
  background: #ff3388;
  transform: scale(1.05);
}

@media (max-width: 600px) {
  #contest {
    padding: 20px 10px;
    margin-top: 25px;
  }

  #contest h2 {
    font-size: 1.2em;
  }

  .contest-btn {
    padding: 10px 18px;
  }
}
  </style>

</head>
<body>
  <div class="container">
    <header>
  <a href="https://t.me/MeatMakers" target="_blank">
    <img src="assets/–ú–ú–ú_–õ–û–ì–û_–û–†–ò–ì–ò–ù–ê–õ.png" alt="–õ–æ–≥–æ—Ç–∏–ø" onerror="this.style.display='none'">
  </a>
  <h1>–û—Ü–µ–Ω–∫–∞ —Å–∫–∏–Ω–∞</h1>
</header>
    <div class="upload-section">
      <input type="file" id="skin-upload" accept="image/png" />
      <div class="info-text">–ó–∞–≥—Ä—É–∑–∏—Ç–µ PNG —Ñ–∞–π–ª —Å–∫–∏–Ω–∞ (64x64 –∏–ª–∏ 64x32)</div>
      <canvas id="skin-viewer" class="skin-preview"></canvas>
    </div>

    <div class="criterion">
      <label for="line">–õ–∞–π–Ω / –û–±—Ä–∞–∑ <span id="line-value">5</span></label>
      <input type="range" id="line" min="1" max="10" value="5">
    </div>
    <div class="criterion">
      <label for="palette">–ü–∞–ª–∏—Ç—Ä–∞ <span id="palette-value">5</span></label>
      <input type="range" id="palette" min="1" max="10" value="5">
    </div>
    <div class="criterion">
      <label for="shade">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è / –®–µ–π–¥ <span id="shade-value">5</span></label>
      <input type="range" id="shade" min="1" max="10" value="5">
    </div>
    <div class="criterion">
      <label for="style">–ê–π–¥–µ–Ω—Ç–∏–∫–∞ / –°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ <span id="style-value">5</span></label>
      <input type="range" id="style" min="1" max="10" value="5">
    </div>
    <div class="criterion">
      <label for="vibe">–û–±—â–µ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ / –í–∞–π–± <span id="vibe-value">5</span></label>
      <input type="range" id="vibe" min="1" max="10" value="5">
    </div>

    <div class="score-display" id="total">–ò—Ç–æ–≥: 25 / 90</div>

    <textarea id="title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–µ—Ü–µ–Ω–∑–∏–∏" maxlength="200"></textarea>
    <textarea id="text" placeholder="–¢–µ–∫—Å—Ç —Ä–µ—Ü–µ–Ω–∑–∏–∏ (–¥–æ 8500 —Å–∏–º–≤–æ–ª–æ–≤)" maxlength="8500"></textarea>

    <button class="reset-button" id="reset">–û—á–∏—Å—Ç–∏—Ç—å</button>
    <button class="submit-button" id="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

    <div class="reviews" id="reviews">
      <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Ü–µ–Ω–∑–∏–π...</div>
    </div>
  </div>

<script>
// –û—Å–Ω–æ–≤–Ω–æ–π UI-—Å–∫—Ä–∏–ø—Ç
document.addEventListener('DOMContentLoaded', () => {
  const ranges = ['line', 'palette', 'shade', 'style', 'vibe'];
  const values = {line: 5, palette: 5, shade: 5, style: 5, vibe: 5};
  const vibeMultiplier = {
    1: 1, 2: 1.0675, 3: 1.1349, 4: 1.2024, 5: 1.2699,
    6: 1.3373, 7: 1.4048, 8: 1.4723, 9: 1.5397, 10: 1.6072
  };
  let viewer = null;
  let uploadedSkin = null;
  
  // –î–µ–ª–∞–µ–º uploadedSkin –¥–æ—Å—Ç—É–ø–Ω—ã–º –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è Firebase
  window.uploadedSkin = null;

  function calculateTotal() {
    const baseSum = Number(values.line) + Number(values.palette) + Number(values.shade) + Number(values.style);
    const scaled = baseSum * 1.4;
    const multiplier = vibeMultiplier[Number(values.vibe)] || 1;
    const total = Math.round(scaled * multiplier);
    document.getElementById('total').textContent = `–ò—Ç–æ–≥: ${total} / 90`;
    return total;
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–∞–π–¥–µ—Ä–æ–≤
  ranges.forEach(id => {
    const input = document.getElementById(id);
    const label = document.getElementById(`${id}-value`);
    if (input && label) {
      input.addEventListener('input', () => {
        values[id] = parseInt(input.value, 10);
        label.textContent = input.value;
        calculateTotal();
      });
    }
  });

  // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
  document.getElementById('skin-upload').addEventListener('change', async e => {
    const file = e.target.files?.[0];
    if (!file) return;
    
    if (!file.type.includes('png')) {
      alert('–¢–æ–ª—å–∫–æ PNG —Ñ–∞–π–ª—ã –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Å–∫–∏–Ω–æ–≤.');
      return;
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º data URL —Å–∫–∏–Ω–∞ –≤ window.uploadedSkin (base64)
    
    const reader = new FileReader();
    reader.onload = evt => {
      uploadedSkin = evt.target.result;
      window.uploadedSkin = uploadedSkin;
      
      try {
        if (!viewer) {
          viewer = new skinview3d.SkinViewer({
            canvas: document.getElementById('skin-viewer'),
            width: 300,
            height: 400,
            skin: uploadedSkin
          });
          viewer.zoom = 0.9;
          viewer.autoRotate = false;
        } else {
          viewer.loadSkin(uploadedSkin);
        }
      } catch (err) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∫–∏–Ω–∞:', err);
      }
    };
    
    reader.onerror = () => {
      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞.');
    };
    
    reader.readAsDataURL(file);
  });

  // –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞
  document.getElementById('reset').addEventListener('click', () => {
    ranges.forEach(id => {
      values[id] = 5;
      const el = document.getElementById(id);
      if (el) el.value = 5;
      const label = document.getElementById(`${id}-value`);
      if (label) label.textContent = '5';
    });
    
    document.getElementById('title').value = '';
    document.getElementById('text').value = '';
    document.getElementById('skin-upload').value = '';
    
    uploadedSkin = null;
    window.uploadedSkin = null;

    if (viewer) {
      try {
        viewer.dispose();
        viewer = null;
      } catch(e) {}
    }
    
    const canvas = document.getElementById('skin-viewer');
    const ctx = canvas.getContext('2d');
    if (ctx) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    calculateTotal();
  });

  calculateTotal();
});
</script>


<!-- Firebase Module -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import {
    getFirestore,
    collection,
    addDoc,
    getDocs,
    query,
    orderBy,
    serverTimestamp,
    limit
  } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBTClf2FpsEGwBBP6hFNFV2Zn8DordYLkA",
    authDomain: "skinsrzt.firebaseapp.com",
    projectId: "skinsrzt",
    storageBucket: "skinsrzt.appspot.com",
    messagingSenderId: "1084042281569",
    appId: "1:1084042281569:web:25872944cf7dac7fd66020"
  };

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase (—Ç–æ–ª—å–∫–æ Firestore)
  let app, db;
  try {
    app = initializeApp(firebaseConfig);
    db = getFirestore(app);
  } catch (err) {
    console.error("–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Firebase:", err);
    document.getElementById('reviews').innerHTML = '<div class="error">–ù–µ —É–¥–∞–ª–æ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.</div>';
  }

  // –£—Ç–∏–ª–∏—Ç–∞: —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML –¥–ª—è –≤—ã–≤–æ–¥–∞
  function escapeHtml(unsafe) {
    if (!unsafe && unsafe !== 0) return '';
    return String(unsafe)
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;")
      .replace(/'/g, "&#039;");
  }

  // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Ü–µ–Ω–∑–∏–π
  async function loadReviews() {
    const container = document.getElementById('reviews');

    try {
      container.innerHTML = '<div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Ü–µ–Ω–∑–∏–π...</div>';

      const q = query(
        collection(db, "reviews"),
        orderBy("createdAt", "desc"),
        limit(50)
      );

      const snapshot = await getDocs(q);

      if (snapshot.empty) {
        container.innerHTML = '<div class="info-text">–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ—Ü–µ–Ω–∑–∏–π. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</div>';
        return;
      }

      container.innerHTML = '';

      snapshot.forEach(doc => {
        const r = doc.data();
        const reviewDiv = document.createElement('div');
        reviewDiv.classList.add('review-item');

        let createdStr = '';
        if (r.createdAt) {
          try {
            const date = r.createdAt.toDate ? r.createdAt.toDate() : new Date(r.createdAt);
            createdStr = date.toLocaleString('ru-RU');
          } catch(e) {
            createdStr = '';
          }
        }

        let reviewHTML = `
          <h3>${escapeHtml(r.title || '–ë–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞')}</h3>
          <p>${escapeHtml(r.text || '')}</p>
          <div class="criteria">
            <small>–õ–∞–π–Ω / –û–±—Ä–∞–∑: ${r.line ?? '-'}</small>
            <small>–ü–∞–ª–∏—Ç—Ä–∞: ${r.palette ?? '-'}</small>
            <small>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è / –®–µ–π–¥: ${r.shade ?? '-'}</small>
            <small>–ê–π–¥–µ–Ω—Ç–∏–∫–∞ / –°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞: ${r.style ?? '-'}</small>
            <small>–û–±—â–µ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ / –í–∞–π–±: ${r.vibe ?? '-'}</small>
          </div>
          <small><b>–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞:</b> ${r.total ?? '-'} / 90</small>
        `;

        if (createdStr) {
          reviewHTML += `<br><small>–î–∞—Ç–∞: ${createdStr}</small>`;
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º base64 —Å–∫–∏–Ω –Ω–∞–ø—Ä—è–º—É—é, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
 if (r.skinData) {
  const viewerId = `viewer_${doc.id}`;
  reviewHTML += `<br><canvas id="${viewerId}" width="150" height="200" class="skin-thumb"></canvas>`;
  setTimeout(() => {
    try {
      const viewer = new skinview3d.SkinViewer({
        canvas: document.getElementById(viewerId),
        width: 150,
        height: 200,
        skin: r.skinData
      });
      viewer.zoom = 0.9;
      viewer.autoRotate = true;
      const control = skinview3d.createOrbitControls(viewer);
      control.enableZoom = false;
      control.enableRotate = true;
    } catch (e) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ 3D –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞:', e);
    }
  }, 300);
}

        reviewDiv.innerHTML = reviewHTML;
        container.appendChild(reviewDiv);
      });

    } catch (err) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ä–µ—Ü–µ–Ω–∑–∏–π:', err);
      container.innerHTML = `<div class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.</div>`;
    }
  }

  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ—Ü–µ–Ω–∑–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
  loadReviews();

  // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ—Ü–µ–Ω–∑–∏–∏
  document.getElementById('submit').addEventListener('click', async () => {
    const submitBtn = document.getElementById('submit');
    const titleEl = document.getElementById('title');
    const textEl = document.getElementById('text');

    const title = titleEl.value.trim();
    const text = textEl.value.trim();

    if (!title || !text) {
      alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ç–µ–∫—Å—Ç —Ä–µ—Ü–µ–Ω–∑–∏–∏');
      return;
    }

    submitBtn.disabled = true;
    submitBtn.textContent = '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...';

    try {
      const values = {
        line: parseInt(document.getElementById('line').value, 10),
        palette: parseInt(document.getElementById('palette').value, 10),
        shade: parseInt(document.getElementById('shade').value, 10),
        style: parseInt(document.getElementById('style').value, 10),
        vibe: parseInt(document.getElementById('vibe').value, 10)
      };

      // –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–π –æ—Ü–µ–Ω–∫–∏ (–∫–∞–∫ –≤ UI)
      const vibeMultiplier = {
        1: 1, 2: 1.0675, 3: 1.1349, 4: 1.2024, 5: 1.2699,
        6: 1.3373, 7: 1.4048, 8: 1.4723, 9: 1.5397, 10: 1.6072
      };
      const baseSum = Number(values.line) + Number(values.palette) + Number(values.shade) + Number(values.style);
      const scaled = baseSum * 1.4;
      const multiplier = vibeMultiplier[Number(values.vibe)] || 1;
      const total = Math.round(scaled * multiplier);

      const reviewData = {
        title: title,
        text: text,
        total: total,
        line: values.line,
        palette: values.palette,
        shade: values.shade,
        style: values.style,
        vibe: values.vibe,
        createdAt: serverTimestamp()
      };

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ base64 —Å–∫–∏–Ω–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
      // Firestore –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ~1 MiB –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç. –û—Ç–∫–ª–æ–Ω—è–µ–º –±–æ–ª—å—à–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
      if (window.uploadedSkin) {
        const dataUrl = window.uploadedSkin;
        const parts = dataUrl.split(',');
        const base64 = parts[1] || '';
        const byteSize = Math.ceil((base64.length * 3) / 4); // –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö
        const MAX_BYTES = 900000; // 900 KB - –∑–∞–ø–∞—Å –ø–µ—Ä–µ–¥ –ª–∏–º–∏—Ç–æ–º Firestore

        if (byteSize > MAX_BYTES) {
          alert('–û—à–∏–±–∫–∞: —Å–∫–∏–Ω —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Firestore (‚âà' + byteSize + ' –±–∞–π—Ç). –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Å–∫–∏–Ω.');
          throw new Error('–°–∫–∏–Ω —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –¥–ª—è Firestore');
        }

        reviewData.skinData = dataUrl;
      }

      const docRef = await addDoc(collection(db, "reviews"), reviewData);
      console.log('–î–æ–∫—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Å ID:', docRef.id);

      alert('‚úÖ –†–µ—Ü–µ–Ω–∑–∏—è —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');

      // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫
      await loadReviews();

    } catch (err) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:', err);
      alert('‚ùå –û—à–∏–±–∫–∞: ' + (err.message || err));
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å';
    }
  });
</script>
 <section id="contest" class="centered-block">
  <div class="contest-content">
    <h2>üé® –ö–æ–Ω–∫—É—Ä—Å –æ—Ç MMM</h2>
    <p>–û—Ç–ø—Ä–∞–≤—å —Å–≤–æ–π —Å–∫–∏–Ω –∏ –ø–æ–ª—É—á–∏ —à–∞–Ω—Å –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –æ–±–ª–æ–∂–∫—É –≥—Ä—É–ø–ø—ã!</p>
    <a href="https://t.me/MeatMakers/17" target="_blank" class="contest-btn">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å</a>
  </div>
</section>
</body>
</html>
